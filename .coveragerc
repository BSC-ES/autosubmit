# This is the Coverage.py configuration file. This is used by CI when running
# the tests and collecting coverage

[run]
branch = True
cover_pylib = False
concurrency = thread,multiprocessing
data_file = .coverage
disable_warnings =
    trace-changed
    module-not-python
    module-not-imported
    no-data-collected
    module-not-measured
omit =
    tests/*
    autosubmit/job/template/common.py
parallel = True
source = ./autosubmit
timid = False
sigterm = True

[report]
exclude_lines =
    pragma: no cover

    # Don't complain if tests don't hit defensive assertion code:
    raise NotImplementedError
    raise NotImplemented
    return NotImplemented

    # Ignore type checking code:
    if (typing\.)?TYPE_CHECKING:
    @overload( |$)

    # Don't complain about ellipsis (exception classes, typing overloads etc):
    \.\.\.

    # Ignore abstract methods
    @(abc\.)?abstractmethod

    # Ignore pass statements
    ^\s*pass\s*$

fail_under=0
ignore_errors = False
omit =
    tests/*
    autosubmit/job/template/common.py
precision = 2
show_missing = False
skip_covered = False
sort = Name

[html]
directory = htmlcov

[xml]
output = coverage.xml
package_depth = 99
